# Worker name - update to match your existing worker if needed
# Use: wrangler deploy --name arktos-health-llc-website (or your exact worker name)
name = "arktos-health-llc-website-2-0"
# Use absolute path resolution - wrangler will resolve this relative to wrangler.toml location
main = "dist/_worker.js/index.js"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Build is handled by Astro, wrangler just deploys the pre-built files
# Make sure to run 'npm run build' before deploying

# Static assets directory - needed for Workers to serve static files
[assets]
binding = "ASSETS"
directory = "./dist"

# KV namespace for sessions (required by Cloudflare adapter)
[[kv_namespaces]]
binding = "SESSION"
id = "b0cda50d0f554903a3610a002e86e8a4"
preview_id = "b0cda50d0f554903a3610a002e86e8a4"  # Using same ID for preview, or create separate preview namespace

# Environment variables can be set here or in Cloudflare dashboard
# For security, move GITHUB_TOKEN to Cloudflare dashboard secrets
# [vars]
# GITHUB_TOKEN = "your-token-here"

# For production deployment (optional - remove if not needed)
# If you need separate production config, uncomment and use: wrangler deploy --env production
# [env.production]
# name = "arktos-health"
# main = "dist/_worker.js/index.js"

